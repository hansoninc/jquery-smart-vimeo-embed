!function(a){function b(b,e){this.element=b,this.options=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="smartVimeoEmbed",d={idSelectorName:"vimeo-id",vimeoPatternUrl:"http://vimeo.com/api/oembed.json?url=http%3A%2F%2Fvimeo.com/",autoplay:!0,width:640};b.prototype={init:function(){var b=this.options;a(this.element).each(function(c,d){var e=a(d),f=e.data(b.idSelectorName);if(f&&!/VIMEO/i.test(e.attr("src"))){var g=b.vimeoPatternUrl+f+"&autoplay="+b.autoplay+"&width="+b.width+"&callback=?";a.ajax({url:g,dataType:"jsonp",success:function(b){a("#output").text(JSON.stringify(b)),e.wrap('<div class="vimeo-wrapper" />'),e.attr("src",b.thumbnail_url),e.parent().prepend('<span class="play-icon"/>').on("click",function(){var c=a(this);c.find("iframe").length||c.append(b.html).find("img, .play-icon").hide()})}})}})}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);